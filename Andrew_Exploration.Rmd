---
title: "Andrew Exploration"
author: "Andrew Paterson"
date: "February 6, 2019"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}

library(tidyverse)
library(sf)
library(tmap)
library(leaflet)
library(ggrepel)
library(ggspatial)
library(RColorBrewer)
library(raster)

```

```{r}

us_states <- read_sf(".", layer = "cb_2017_us_state_500k")

st_crs(us_states) = 4326

plot(us_states)

states <- read_sf(".", layer = "cb_2017_us_state_500k") %>%
  dplyr::select(NAME, geometry) %>% 
  rename(State = NAME) %>%
  st_simplify(dTolerance = 100) %>% 
  st_transform(crs = 4326) #if no existing system, use st_crs. can also check system with st_crs(ca_eco)

plot(states)

#Trying with slightly different syntax learned in lab 7.

states2 <- read_sf(dsn = 'states', layer = "cb_2017_us_state_500k") %>% 
  dplyr::select(NAME) %>% 
  st_simplify(dTolerance = 10) %>% 
  st_transform(crs = 4326)

#Having trouble figuring out how to withdraw/identify the information I need from the US States shapefiles. The parallels to when we did this in lab 7 aren't immediately obvious to me. Geometry isn't staying sticky.

plot(islands)

#Trying with a different shapefile

states_sf <- read_sf(".", layer = "states")

st_crs(states_sf) = 4326

states3 <- read_sf(dsn = "states", layer = "states") %>% 
  dplyr::select(STATE_NAME) %>% 
  st_simplify(dTolerance = 10) %>% 
  st_transform(crs = 4326)

plot(states3)

#Gives a weird kite-shaped map with "STATE_NAME" title. Geometries are not staying sticky.

```

```{r}

#Trying with Allison's shapefiles from lab 7. Why do these stay sticky, but the esri and census bureau shapefiles I tried do not?

states_map1 <- read_sf(dsn = "states", layer = "cb_2017_us_state_20m") %>% 
  dplyr::select(NAME) %>%
  filter(NAME != "Puerto Rico",
         NAME != "Hawaii",
         NAME != "Alaska") %>% 
  st_transform(crs = 4326)

plot(states_map1)

```

```{r}

#adding layer of points for home state



```

